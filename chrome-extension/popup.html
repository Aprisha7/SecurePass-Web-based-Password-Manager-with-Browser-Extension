<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="popup.css">
  <style>
  body { 
    width: 380px; 
    padding: 0; margin: 0; 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
    position: relative;
  }
  .screen { display: none; }
  .screen.active { display: block; }
  .message { 
    position: fixed; top: 10px; right: 10px; 
    padding: 8px 12px; border-radius: 6px; font-size: 12px; z-index: 1001; 
  }
  .message.success { background: #10b981; color: white; }
  .message.error { background: #ef4444; color: white; }
  .message.hidden { display: none; }
  
  /* Login Screen */
  .login-container { padding: 30px 25px; }
  .logo { text-align: center; margin-bottom: 30px; }
  .logo h1 { font-size: 26px; margin: 0 0 4px 0; color: #1f2937; }
  .logo p { color: #6b7280; margin: 0; font-size: 14px; }
  .field { margin-bottom: 18px; }
  .field label { display: block; margin-bottom: 6px; font-weight: 500; color: #374151; font-size: 13px; }
  .password-row { position: relative; }
  input[type="email"], input[type="password"] { 
    width: 100%; padding: 12px 45px 12px 16px; 
    border: 1px solid #d1d5db; border-radius: 8px; 
    box-sizing: border-box; font-size: 14px; 
    transition: border-color 0.2s;
  }
  input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.1); }
  #toggle-login-password { 
    position: absolute; right: 12px; top: 50%; 
    transform: translateY(-50%); background: none; border: none; 
    font-size: 16px; cursor: pointer; color: #6b7280;
  }
  .auth-links { text-align: center; margin-top: 20px; }
  #register-link { color: #3b82f6; text-decoration: none; font-size: 14px; }
  
  /* Vault Screen */
  .vault-header { 
    display: flex; justify-content: space-between; align-items: center; 
    padding: 18px 20px 12px; border-bottom: 1px solid #e5e7eb;
  }
  .vault-header h2 { margin: 0; font-size: 18px; color: #1f2937; }
  .header-buttons { display: flex; gap: 8px; }
  .icon-btn { 
    width: 36px; height: 36px; border-radius: 8px; 
    border: none; cursor: pointer; font-size: 16px; 
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s;
  }
  .icon-btn:hover { transform: scale(1.05); }
  #logout-btn { background: #bfdbfe; color: white; }
  #add-new-btn { background: #10b981; color: white; position: fixed; top: 18px; right: 68px; z-index: 100; }
  /* Make vault header sticky + room for buttons */
  #vault-screen {
    position: relative;
    padding-top: 70px; /* Space for sticky header */
  }

  #header-actions {
    position: sticky !important;
    top: 0 !important;
  }

  .search-box { 
    position: relative; padding: 16px 20px 16px; 
    background: #f9fafb; border-bottom: 1px solid #e5e7eb;
  }
  #search-input { 
    width: 100%; padding: 10px 40px 10px 14px; 
    border: 1px solid #d1d5db; border-radius: 8px; 
    box-sizing: border-box; font-size: 14px; background: white;
  }
  #refresh-btn { 
    position: absolute; right: 28px; top: 50%; 
    transform: translateY(-50%); background: #bfdbfe; color: white; width: 28px; height: 32px;
  }
  
  .vault-list { max-height: 320px; overflow-y: auto; padding: 0 20px 20px; }
  .vault-item { 
    display: flex; justify-content: space-between; align-items: center; 
    padding: 14px; margin-bottom: 10px; background: white; 
    border-radius: 10px; cursor: pointer; transition: all 0.2s;
    border: 1px solid #e5e7eb; box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  .vault-item:hover { 
    background: #f8fafc; transform: translateY(-1px); 
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }
  .vault-info { flex: 1; }
  .vault-site { 
    font-weight: 600; font-size: 14px; color: #1f2937; 
    margin-bottom: 2px; word-break: break-all;
  }
  .vault-username { 
    font-size: 12px; color: #6b7280; 
  }
  .copy-btn { 
    background: #6b7280; color: white; width: 32px; height: 32px; 
    border-radius: 6px; border: none; cursor: pointer; font-size: 14px;
    transition: all 0.2s;
  }
  .copy-btn:hover { 
    background: #4b5563; transform: scale(1.05); 
  }
  
  .empty-state { 
    text-align: center; padding: 60px 20px; color: #6b7280; 
  }
  .empty-state small { display: block; margin-top: 8px; font-size: 12px; }
  
  .quick-actions { 
    padding: 20px; display: flex; gap: 12px; border-top: 1px solid #e5e7eb;
  }
  .btn-primary, .btn-secondary { 
    flex: 1; padding: 12px 16px; border: none; border-radius: 8px; 
    font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s;
  }
  .btn-primary { background: #3b82f6; color: white; }
  .btn-primary:hover { background: #2563eb; transform: translateY(-1px); }
  .btn-secondary { background: #3b82f6; color: white; } /* Generate now BLUE */
  .btn-secondary:hover { background: #2563eb; transform: translateY(-1px); }
  </style>
</head>
<body>
  <!-- Login Screen -->
  <div id="login-screen" class="screen active">
    <div style="padding: 40px 30px;">
      <div style="text-align: center; margin-bottom: 30px;">
        <h1 style="font-size: 40px; margin: 0 0 8px 0; color: #2563eb;">SecurePass</h1>
        <p style="font-size: 15px; color: #6b7280; margin: 0;">Security You Can Trust.</p>
      </div>
      
      <form id="login-form">
        <div style="margin-bottom: 16px;">
          <input type="email" id="login-email" required placeholder="example@email.com" 
                 style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; box-sizing: border-box; font-size: 14px;">
        </div>
        <div style="margin-bottom: 20px; position: relative;">
          <input type="password" id="login-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" 
                 style="width: 100%; padding: 12px 16px 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; box-sizing: border-box; font-size: 14px;">
          <button type="button" id="toggle-login-password" class="icon-btn" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); width: 32px; height: 32px; background: #f3f4f6;">üëÅ</button>
        </div>
        <button type="submit" style="width: 100%; padding: 12px; background: #3b82f6; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;">Login</button>
      </form>
      
      <div style="text-align: center; margin-top: 20px;">
        <a href="#" id="register-link" style="color: #3b82f6; text-decoration: none; font-size: 14px;">Don't have an account? Register</a>
      </div>
    </div>
  </div>

  <!-- Vault Screen -->
  <div id="vault-screen" class="screen">
    <div class="vault-header">
       <h2>üîê My Vault</h2>
       <button id="logout-btn" class="icon-btn logout">üö™</button>
    </div>
    
    <div class="search-box">
      <input type="text" id="search-input" placeholder="Search websites...">
      <button id="refresh-btn" class="icon-btn" title="Refresh" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); width: 32px; height: 32px;">‚Üª</button>
    </div>
    
    <div class="vault-list">
      <div id="vault-items"></div>
      <div id="empty-state" class="empty-state">No passwords found</div>
    </div>
    
    <div class="quick-actions">
      <button id="generate-btn" class="btn-secondary">Generate</button>
      <button id="fill-btn" class="btn-primary">Fill Site</button>
    </div>
  </div>

  <!-- Messages -->
  <div id="message" class="message hidden"></div>
  
  <script src="popup.js"></script>
</body>
</html>
